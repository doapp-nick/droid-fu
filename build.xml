<?xml version="1.0"?>

<project name="Droid-fu do nothing build" default="build" basedir="." xmlns:artifact="antlib:org.apache.maven.artifact.ant">

	<target name="build" depends="mvn_package"/>
	
	<!-- redirect android expected build to our build -->
	<target name="nodeps" />
	<target name="release" depends="build"/>
	
	<!-- setup the class path -->
	<path id="project.class.path">
		<fileset dir="ant-lib">
			<include name="**/*.jar" />
		</fileset>
	</path>

	<target name="setup_tasks" >
		<typedef resource="org/apache/maven/artifact/ant/antlib.xml" uri="antlib:org.apache.maven.artifact.ant" classpathref="project.class.path" />
	</target>

	<target name="mvn_package" depends="setup_tasks">
		<artifact:mvn mavenHome="${env.M2_HOME}" pom="pom.xml" fork="true" failonerror="true">
			<arg value="package" />
		</artifact:mvn>
		<copy file="bin/droidfu.jar" tofile="bin/classes.jar"/>
	</target>
</project>
